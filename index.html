<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="twitterTool" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="twitterTool" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="twitterTool" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="twitterTool" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Flock - Twitter Search</title>
  <meta name="description" content="A tool to search, filter and download tweets.">

  <link rel="stylesheet" type="text/css" href="styles/main.css">
  <link rel="stylesheet" type="text/css" href="styles/normalize.css">
  <script src="http://maps.google.com/maps/api/js?sensor=false&libraries=places"></script>
  
</head>
<body ng-controller="MainController">

	<div class="page_wrap">
		<div class="left_column">

			<div class="search_wrap">

				<div class="search">
					<img src="styles/images/logo.png" class="logo">

					<form novalidate class="parameters">
						<p class="parameters_title">Search tweets</p>
						<input id="query_text" type="text" ng-model="parameters.q" value="" placeholder="Search @user, #hashtag or Keyword"/>
						<input id="loc_text" type="text" ng-keyup="autosuggest()" ng-model="parameters.loc" value="" placeholder="Boston, MA"/>
						<input id="query_submit" type="submit" ng-click="query(parameters)" value="Search"/>

					</form>
				</div>

				<div class="download">
					<button id="download" type="button" ng-click="download()">Download</button>

					<button id="visualize" type="button" ng-click="visualize()">Visualize</button>
				</div>

			</div>
		</div>

		<div class="right_column">

			<div class="container" ng-hide="show_visualize || show_loading" masonry='{ "transitionDuration" : "0.1s" , "itemSelector" : ".tweet", "gutter" : 25}'>
				<div masonry-tile ng-repeat="tweet in tweets" class="tweet">
					<img ng-src="{{ tweet.user.profile_image_url_https }}" class="profile_image">
					<span class="profile_name">{{ tweet.user.name }}</span><br>
					<span class="profile_screen_name">@{{ tweet.user.screen_name }}</span>
					<p class="profile_tweet">{{ tweet.text }}</p>

					<span ng-if="tweet.entities.media">
						<img class="profile_media" style="max-width:100%;" ng-src="{{ tweet.entities.media[0].media_url }}">
					</span>
				</div>
			</div>

			<div class="container" ng-show="show_visualize">
				<h1>Visualize</h1>
			</div>
			<div class="container" ng-show="show_loading">
				<h1>Loading Tweets</h1>
				<img src="img/ajax-loader.gif" width="500px" height="500px">
			</div>
		</div>

	</div>

  
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="plugins/masonry.pkgd.min.js"></script>
	<script src="plugins/imagesloaded.pkgd.min.js"></script>
	<script type="text/javascript" src="plugins/codebird.js"></script>
 	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js"></script>
 	<script src="plugins/angular-masonry-directive.js"></script>
 	<script src="app.js"></script>

 	<script>
 	/*
 	$('#container').masonry({
	  gutter: 20,
	  itemSelector: '.tweet',
	});
	*/
 	</script>

</body>
</html>